(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{195:function(e,a,t){e.exports=t(383)},200:function(e,a,t){},383:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(5),s=t.n(r),c=(t(200),t(26)),o=t(33),i=t(43),d=t(41),u=t(44),m=t(128),h=t(46),p=t(384),g=t(131),E=t(8),f=t(42),v=t(182),w=t(64),y=t(32),b=t(27),C=t(389),x=t(55),A=t.n(x);window.axios=A.a;var j=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"getUserList",value:function(){return A.a.get("https://emppostgre.herokuapp.com/emp/getAll")}},{key:"saveUserDataAPI",value:function(e){return A.a.post("https://emppostgre.herokuapp.com/emp/add",e)}},{key:"saveEditedDataAPI",value:function(e){var a={name:e.name,age:e.age,address:e.address,key:e.key};return A.a.post("/api/udpateRecord",a)}},{key:"deleteDataAPI",value:function(e){return A.a.delete("https://emppostgre.herokuapp.com/emp/delete/".concat(e.id))}},{key:"loginandattend",value:function(e){return A.a.post("https://emppostgre.herokuapp.com/emp/login",e)}}]),e}(),k=t(191),U=(t(217),t(387)),S=t(388),I=t(385),D=t(183),O=t.n(D),L=function(e){var a=e.data,t=(e.editfunc,e.delefunc),n=e.handleChange,r=e.editIdx,s=(e.checkfunc,l.a.useState(!1)),c=Object(k.a)(s,2),o=c[0],i=c[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(S.a,{title:"QR Code",visible:o,onCancel:function(){return i(!1)},footer:[]},l.a.createElement(O.a,{style:{width:"40%",marginLeft:"30%",height:"none"},value:"http://facebook.github.io/react/"})),l.a.createElement(I.a,{columns:[{title:"Name",dataIndex:"name",render:function(e,a){return l.a.createElement("span",null,e)}},{title:"Father Name",dataIndex:"fatherName",render:function(e,a){return a.name===r?l.a.createElement(U.a,{name:"name",defaultValue:e,onChange:function(e){return n(e,a)}}):l.a.createElement("span",null,e)}},{title:"CNIC",dataIndex:"cnic",render:function(e,a){return a.name===r?l.a.createElement(U.a,{name:"age",defaultValue:e,onChange:function(e){return n(e,a)}}):l.a.createElement("span",null,e)}},{title:"Grade",dataIndex:"grade",render:function(e,a){return a.name===r?l.a.createElement(U.a,{name:"grade",defaultValue:e,onChange:function(e){return n(e,a)}}):l.a.createElement("span",null,e)}},{title:"Join Date",dataIndex:"joinDate",render:function(e,a){return a.name===r?l.a.createElement(U.a,{name:"joinDate",defaultValue:e,onChange:function(e){return n(e,a)}}):l.a.createElement("span",null,e.split("T")[0])}},{title:"Allownaces",dataIndex:"allownaces",render:function(e,a){return a.name===r?l.a.createElement(U.a,{name:"allownaces",defaultValue:e,onChange:function(e){return n(e,a)}}):l.a.createElement("span",null,e)}},{title:"Allowed Leaves",dataIndex:"allowedLeaves",render:function(e,a){return a.key===r?l.a.createElement(U.a,{name:"allowedLeaves",defaultValue:e,onChange:function(e){return n(e,a)}}):l.a.createElement("span",null,e)}},{title:"Action",dataIndex:"",key:"x",render:function(e,a){return l.a.createElement("div",null,l.a.createElement(E.a,{style:{fontSize:30,marginRight:10},type:"delete",onClick:function(){return t(e,a)}}),l.a.createElement(E.a,{style:{fontSize:30},type:"qrcode",onClick:function(){return i(!0)}}))}}],dataSource:a||[],size:"middle"}))},P=t(390);window.message=P.a;var F=function e(){Object(c.a)(this,e)};F.success=function(e){return P.a.success(e)},F.error=function(e){return P.a.error(e)},F.warning=function(e){return P.a.warning(e)};var N=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(d.a)(a).call(this,e))).saveUserDataAPIFun=function(e){try{j.saveUserDataAPI(e).then((function(e){console.log("response-> ",e),t.props.tableListUpdate(),F.success("User data edited successfully.")}),(function(e){console.log(e),F.error("Something went wrong.")}))}catch(a){console.log(a),F.error("Error")}},t.handleChangeUserAdd=function(e){var a=e.target,n=a.name,l=a.value;t.setState(Object(f.a)({},n,l))},t.resetState=function(){t.setState({name:null,fatherName:null,cnic:null,grade:null,joinDate:null,allownaces:null,allowedLeaves:null,email:null,password:null})},t.addUserSubmitFunc=function(){var e={name:t.state.name,fatherName:t.state.fatherName,cnic:t.state.cnic,grade:t.state.grade,joinDate:t.state.joinDate,allownaces:t.state.allownaces,allowedLeaves:t.state.allowedLeaves,email:t.state.email,password:t.state.password};t.saveUserDataAPIFun(e),t.resetState(),t.props.closeWindow()},t.state={name:null,fatherName:null,cnic:null,grade:null,joinDate:null,allownaces:null,allowedLeaves:null,email:null,password:null},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a,null,l.a.createElement("p",null,"Please add the following details for adding the new employee."),l.a.createElement("div",{style:{margin:"15px 0px"}},l.a.createElement("label",null,"Name:"),l.a.createElement(U.a,{placeholder:"Enter Name",value:this.state.name,name:"name",onChange:this.handleChangeUserAdd})),l.a.createElement("div",{style:{margin:"15px 0px"}},l.a.createElement("label",null,"Father Name"),l.a.createElement(U.a,{placeholder:"Enter Father Name",value:this.state.fatherName,name:"fatherName",onChange:this.handleChangeUserAdd})),l.a.createElement("div",{style:{margin:"15px 0px"}},l.a.createElement("label",null,"CNIC"),l.a.createElement(U.a,{placeholder:"Enter CNIC",value:this.state.cnic,name:"cnic",onChange:this.handleChangeUserAdd})),l.a.createElement("div",{style:{margin:"15px 0px"}},l.a.createElement("label",null,"Grade"),l.a.createElement(U.a,{placeholder:"Enter Grade",value:this.state.grade,name:"grade",onChange:this.handleChangeUserAdd})),l.a.createElement("div",{style:{margin:"15px 0px"}},l.a.createElement("label",null,"Join Date"),l.a.createElement(U.a,{placeholder:"Enter Join Date",type:"date",value:this.state.joinDate,name:"joinDate",onChange:this.handleChangeUserAdd})),l.a.createElement("div",{style:{margin:"15px 0px"}},l.a.createElement("label",null,"Allowances"),l.a.createElement(U.a,{placeholder:"Enter Allowances",value:this.state.allownaces,name:"allownaces",onChange:this.handleChangeUserAdd})),l.a.createElement("div",{style:{margin:"15px 0px"}},l.a.createElement("label",null,"Allowed Leaves"),l.a.createElement(U.a,{placeholder:"Enter Allowed Leaves",type:"number",value:this.state.allowedLeaves,name:"allowedLeaves",onChange:this.handleChangeUserAdd})),l.a.createElement("div",{style:{margin:"15px 0px"}},l.a.createElement("label",null,"Email"),l.a.createElement(U.a,{placeholder:"Enter Email",type:"email",value:this.state.email,name:"email",onChange:this.handleChangeUserAdd})),l.a.createElement("div",{style:{margin:"15px 0px"}},l.a.createElement("label",null,"Password"),l.a.createElement(U.a,{placeholder:"Enter Password",type:"password",value:this.state.password,name:"password",onChange:this.handleChangeUserAdd}))),l.a.createElement("div",{className:"addUser_box_footer"},l.a.createElement(b.a,{onClick:this.props.closeWindow,style:{marginRight:8}},"Cancel"),l.a.createElement(b.a,{onClick:this.addUserSubmitFunc,type:"primary"},"Submit")))}}]),a}(l.a.Component),W=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(d.a)(a).call(this,e))).deleteFunctionAPI=function(e){try{j.deleteDataAPI(e).then((function(e){t.userListFetchAPI(),F.success("User deleted successfully.")}),(function(e){console.log(e),F.error("Something went wrong.")}))}catch(a){console.log(a),F.error("Error")}},t.userEditDataSaveAPI=function(e){try{j.saveEditedDataAPI(e).then((function(e){t.userListFetchAPI(),F.success("User data edited successfully.")}),(function(e){console.log(e),F.error("Something went wrong.")}))}catch(a){console.log(a),F.error("Error")}},t.userListFetchAPI=function(){try{j.getUserList().then((function(e){t.setState({userTableData:e.data})}),(function(e){console.log(e),F.error("Something went wrong.")}))}catch(e){console.log(e),F.error("Error")}},t.componentDidMount=function(){t.userListFetchAPI()},t.saveData=function(e){t.setState({editRowState:null}),t.userEditDataSaveAPI(e)},t.handleChange=function(e,a){var n=e.target,l=n.name,r=n.value;t.setState((function(e){return{userTableData:e.userTableData.map((function(e,t){return e.key===a.key?Object(v.a)({},e,Object(f.a)({},l,r)):e}))}}))},t.deleteFunction=function(e){console.log(e),t.deleteFunctionAPI(e)},t.editFunction=function(e){t.setState({editRowState:e.key})},t.showAddUserWindowDrawer=function(){t.setState({addUserWindowVisible:!0})},t.onCloseAddUserWindow=function(){t.setState({addUserWindowVisible:!1})},t.state={userTableData:[],editRowState:null,addUserWindowVisible:!1},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(w.a,{type:"flex",justify:"end",style:{padding:"10px 0px"}},l.a.createElement(y.a,{span:8},l.a.createElement("span",null,l.a.createElement("h1",null,"List of Employees"))),l.a.createElement(y.a,{span:8,offset:8},l.a.createElement(b.a,{type:"primary",style:{float:"right"},onClick:this.showAddUserWindowDrawer},l.a.createElement(E.a,{type:"plus"})," Add Employee"),l.a.createElement(C.a,{title:"Create a new employee",width:400,onClose:this.onCloseAddUserWindow,visible:this.state.addUserWindowVisible,bodyStyle:{paddingBottom:80}},l.a.createElement(N,{closeWindow:this.onCloseAddUserWindow,tableListUpdate:this.userListFetchAPI})))),l.a.createElement(w.a,null,l.a.createElement(y.a,{style:{}},l.a.createElement(L,{data:this.state.userTableData,size:"middle",editfunc:function(a){return e.editFunction(a)},delefunc:function(a){return e.deleteFunction(a)},editIdx:this.state.editRowState,handleChange:this.handleChange,checkfunc:function(a){return e.saveData(a)}}))))}}]),a}(l.a.Component),V=t(386),R=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(d.a)(a).call(this,e))).handleChangeUserAdd=function(e){var a=e.target,n=a.name,l=a.value;t.setState(Object(f.a)({},n,l))},t.login=function(){var e={email:t.state.email,password:t.state.password};j.loginandattend(e).then((function(e){F.success("Attendence Marked successfully."),t.setState({data:e.data}),console.log(t.state.data)})).catch((function(e){F.error("Invalid Credentials.")}))},t.state={email:null,password:null,data:null},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{style:{margin:"auto"}},l.a.createElement(V.a,{title:null!==this.state.data?"Details":"Login",style:{width:"100%"}},null!==this.state.data?l.a.createElement(w.a,null,l.a.createElement("div",{style:{margin:"15px 0px"}},l.a.createElement("label",null,"Full Name: ",this.state.data.name)),l.a.createElement("div",{style:{margin:"15px 0px"}},l.a.createElement("label",null,"Father Name: ",this.state.data.fatherName)),l.a.createElement("div",{style:{margin:"15px 0px"}},l.a.createElement("label",null,"Grade: ",this.state.data.grade)),l.a.createElement("div",{style:{margin:"15px 0px"}},l.a.createElement("label",null,"Total Presents: ",this.state.data.totalPresence))):l.a.createElement("div",null,l.a.createElement(w.a,null,l.a.createElement("div",{style:{margin:"15px 0px"}},l.a.createElement("label",null,"Email"),l.a.createElement(U.a,{placeholder:"Enter Email",type:"email",value:this.state.email,name:"email",onChange:this.handleChangeUserAdd})),l.a.createElement("div",{style:{margin:"15px 0px"}},l.a.createElement("label",null,"Password"),l.a.createElement(U.a,{placeholder:"Enter Password",type:"password",value:this.state.password,name:"password",onChange:this.handleChangeUserAdd}))),l.a.createElement(b.a,{onClick:this.login,type:"primary"},"Login"))))}}]),a}(l.a.Component),T=p.a.Header,J=p.a.Sider,z=p.a.Content,G=function(e){function a(){var e,t;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(i.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(l)))).state={collapsed:!1},t.toggle=function(){t.setState({collapsed:!t.state.collapsed})},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement(m.a,null,l.a.createElement(p.a,null,l.a.createElement(J,{trigger:null,collapsible:!0,collapsed:this.state.collapsed},l.a.createElement("div",{className:"logo"},"EMS"),l.a.createElement(g.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},l.a.createElement(g.a.Item,{key:"1"},l.a.createElement(E.a,{type:"user"}),l.a.createElement("span",null,"Employee List"),l.a.createElement(m.b,{to:"/"})))),l.a.createElement(p.a,null,l.a.createElement(T,{style:{background:"#fff",padding:0}},l.a.createElement(E.a,{className:"trigger",type:this.state.collapsed?"menu-unfold":"menu-fold",onClick:this.toggle})),l.a.createElement(z,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:"100vh"}},l.a.createElement(h.a,{exact:!0,path:"/",component:W}),l.a.createElement(h.a,{path:"/attendence",component:R})))))}}]),a}(l.a.Component);s.a.render(l.a.createElement(G,null),document.getElementById("root"))}},[[195,1,2]]]);
//# sourceMappingURL=main.b1f625ee.chunk.js.map